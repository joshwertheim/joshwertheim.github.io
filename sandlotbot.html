<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Sandlotbot &mdash; Joshua Wertheim</title>
    
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <a href="/"><h1>Joshua Wertheim</h1></a>
        <img src="assets/profile.jpeg">
        <p><small>Ambitious Student and Hacker</small></p>
        <h2>Some fun projects:</h2>
        <p class="view">
          <a href="sandlotbot.html">Sandlotbot
          <small>A minimal IRC bot for SF Giants</small></a>
        </p>
        <p class="view">
          <a href="https://itunes.apple.com/us/app/cinequest/id350893913">Cinequest iOS
          <small>An iOS guide to Cinequest 2014</small></a>
        </p>

        <h2>Find me on:</h2>
        <p class="view">
          <a href="https://github.com/joshwertheim/">Github
          <small>Code I write, projects I follow, and related shenanigans I keep up with</small></a>
        </p>
        <p class="view">
          <a href="http://www.linkedin.com/in/wertheimjoshua/">LinkedIn
          <small>My online resume and related bytes</small></a>
        </p>
        <p class="view">
          <a href="http://open.spotify.com/user/spike021">Spotify
          <small>Check out what I'm listening to</small></a>
        </p>
        
      </header>

      <section>
        <h1>Sandlotbot &mdash; SF Giants IRC Bot</h1>
        <p class="view">
          <a href="https://github.com/joshwertheim/sandlotbot">Sandlotbot on GitHub</a>
        </p>

        <p>
          Sandlotbot became a somewhat massive undertaking for me. During the summer of 2014, I helped start an Internet Relay Chat channel specifically for San Francisco Giants fans. After seeing the use of a bot in a more generic baseball channel able to query and display specific sets of data related to the game, I decided we needed something. Other than relatively minor learning exercises, I hadn't really worked with larger-scale Python projects, but I knew that it was a rather capable language for the goals I had in mind; I had also seen via GitHub that there are some very large IRC bots constructed in Python, so I knew that what I wanted would be  reasonable.
        </p>
        <p>
          This project is easily one of the most complicated I have ever worked on. The codebase is not massive, nor is much of the code very advanced conceptually. However, it was required that I scour the Major League Baseball site for useable APIs and similar data feeds. I actually researched a bit early on to check if this had been done before, and it had. However as I wanted my bot to play exclusively for the Giants, I wanted to check if there were specific feeds for my team rather than very general and large ones that include every team. In some ways this worked, in others it didn't.
        </p>
        <p>
          In the end, I decided to push ahead with my plan. Unfortunately the MLB feeds are not very well-designed, and can change structurally without any alerts or notification of any kind. So this project required quite a bit of debugging time, which just about always needed to be during games.
        </p>
        <p>
          Currenly working commands (tentative according to MLB feed setup):
          <ul>
            <li>@headlines - prints number of news articles; tends to stay the same (roughly 12)</li>
            <li>@headlines N - prints the title and link to the Nth article</li>
            <li>@headlines top5 - prints the title and link to the top 5 articles</li>
            <li>@headlines refresh - Resets the headlines cache</li>
            <li>@settopic - sets the new topic for the day's game</li>
            <li>@settopic append *str* - will set the topic for the day's game *and* add the string that follows *append*</li>
            <li>@status - prints the status of the current game (not always up-to-date because json isn't constantly updated on mlb.com)</li>
            <li>@lineup - prints the current/upcoming game's lineup (only works the day of)</li>
            <li>@batter *first name* or *last name* - prints some good batting stats for given SF player (includes pitchers' batting stats)</li>
            <li>@pitcher *first name* or *last name* - prints relevant pitcher stats, can be expanded</li>
            <li>@exit - bot closes up shop and disconnects from the default server (freenode in this case)</li>
          </ul>
        </p>

<pre>
sandlotbot (~sandlotbo@*ip_address*) has joined the channel.
ChanServ sets mode: +o sandlotbot
<@sandlotbot> Let's win today! [@commands to see available commands]
(spike) @status
<@sandlotbot> No active game.
(spike) @settopic
sandlotbot has set the topic to: Giants @ Cubs starting at 05:05 PM PST. Starting pitcher: Ryan Vogelsong with a 3.71 ERA
(spike) @today
<@sandlotbot> Giants @ Cubs starting at 05:05 PM PST. Starting pitcher: Ryan Vogelsong with a 3.71 ERA
(spike) @commands
<@sandlotbot> @status (during game), @headlines, @headlines N (choose which story), 
@headlines top5 (get the top 5 articles' titles with their item numbers), 
@headlines refresh (manually update @headlines cache), @settopic to set the new topic 
for the next game (for now only the day of will fetch new info), @settopic append 
*string* resets topic and appends a given string, @lineup today's game's lineup 
for SF Giants.
(spike) @headlines top5
<@sandlotbot> (1) Trip home to NY helps clear Panik's head
<@sandlotbot> (2) Giants top Phillies, gain ground in NL West
<@sandlotbot> (3) Giants' Panik dislocates left pinkie finger
<@sandlotbot> (4) Giants hope road remains kind to Vogelsong
<@sandlotbot> (5) Giants concerned after Sanchez rattled again
(spike) @headlines 1
<@sandlotbot> Trip home to NY helps clear Panik's head
<@sandlotbot> http://mlb.mlb.com/news/article/sf/trip-home-to-ny-helps-clear-giants-2b-joe-paniks-head?ymd=20140818&content_id=90281532&vkey=news_sf
(spike) @batter Panik
<@sandlotbot> Joe Panik - AVG: .282, SLG: .333, HR: 0, RBI: 8, SO: 15, OPS: .669, OBP: .336
(spike) @exit
</pre>
        
      </section>

      <footer>
      </footer>

    </div>
    <script src="javascripts/scale.fix.js"></script>
  </body>
</html>